---
layout: default
title: Bitcoin.com Developer Platform | Tutorials - Typescript Support
banner: hero.jpeg
H1: BITBOX now has TypeScript support
subtitle: Improved developer experience
secondSubtitle: Javascript that scales
---

{{> nested-navigation}}

{{> tutorial-header}}

<section class="tutorials">
  <div class="container">

    <div class="row">

      <div class="col-12">
        <p>In this article I will demonstrate how to get started with TypeScript using the BITBOX scaffolding tool for Node.js.  To enable TypeScript some minor modifications to the generated code are required, each shown in this article. All of the code used in this tutorial can be found <a href='https://github.com/Bitcoin-com/bitbox-ts-example'>on github</a>.</p>
        <h3 class="yellow">Purpose</h3>
        <p>Unit testing and statically typed programming languages can help reduce the number of errors and bugs when writing software, and this can be especially important when building cryptocurrency related applications.  To this end, Bitcoin.com recently updated their <a href='https://developer.bitcoin.com/bitbox.html'>BITBOX JavaScript SDK</a> to include TypeScript type definition files (aka *d.ts files).  A new folder named “typings” was added to the <a href='https://github.com/Bitcoin-com/bitbox-javascript-sdk'>project&rsquo;s repo</a> which contain all of the type definition files to enable this TypeScript development support.</p>
        <p><img class='gui' src="../img/tutorials/bitbox-plus-typescript.png" alt="BITBOX + TypeScript" /></p>
        <h3 class="yellow">Goal</h3>
        <p>The goal for this article will be to show how to enable TypeScript types for BITBOX. We will utilize the existing BITBOX scaffolding system to create a new project and then show how to make the required updates so that the types can be accessed during development.</p>
        <h3 class="yellow">Prerequisites</h3>
        <ul>
          <li>Have a basic understanding of Node.js, npm, TypeScript. If you don’t yet know what TypeScript is then just know it can be used to fill two primary roles in a JavaScript development project:
            <ul>
              <li>It can provide an optional type system for JavaScript.</li>
              <li>It can provide planned features from future JavaScript editions to current JavaScript engines</li>
            </ul>
          </li>
          <li>Install BITBOX SDK globally using <code>npm install -g bitbox-cli</code> (visit <a href='https://developer.bitcoin.com/bitbox/docs/getting-started.html'>https://developer.bitcoin.com/bitbox/docs/getting-started.html</a> for more details).</li>
          <li>You must have a recent version of Node.js installed (8.11.x or higher) TypeScript installed via <code>npm install -g typescript</code></li>
          <li>Visual Studio Code is the recommended IDE for feature rich TypeScript tooling and debugging support, but other may work as well.</li>
        </ul>
        <h3 class="yellow">Tutorial</h3>
        <p>Create a new project using <code>bitbox new <project-name> --scaffold node</code> which will leverage the existing BITBOX tooling to setup a new Node.js project directory with a <code>package.json</code> file and other template files.</p>
        <p><img class='gui' src="../img/tutorials/new-bitbox-node.png" alt="new BITBOX nodeJS project" /></p>
        <p>Initiate TypeScript for the project by typing <code>tsc --init</code> within the project directory. This will generate a file called <code>tsconfig.ts</code> which will contain many configurable options for your TypeScript project.  We’ll update the “libs” property to equal <code>[“es2015”]</code> as shown in the capture below. This will allow use of Promises (used heavily by BITBOX sdk) within our TypeScript code by including the ES2015 (aka., EcmaScript 6) library.</p>
        <p><img class='gui' src="../img/tutorials/tsconfig.png" alt="tsconfig" /></p>
        <p>Add <code>@types/node</code> as a dependency to the package.json file as shown in the image below. Then run <code>npm install</code>.</p>
        <p><img class='gui' src="../img/tutorials/add-typings-dep.png" alt="add typings" /></p>
        <p>Rename <code>index.js</code> to <code>index.ts</code> that was created by the scaffolding system so that the IDE and TypeScript compiler can recognize the file as a TypeScript file instead of a JavaScript file.</p>
        <p>Import the TypeScript interface for BITBOX by adding a new the import statement at the top of the <code>index.ts</code> file to match the format illustrated below. Notice that we pull in <code>&lt;IBITBOXCli&gt;</code> in line 1 which is simply an interface which we apply to the newly created BITBOX object in line 3 (using <code>&lt;IBITBOXCli&gt;</code>). This will allow us to see all of the methods and properties available to us moving forward.</p>
        <p>The following illustrates the code required to import and applying the IBITBOXCli TypeScript interface to the normal BITBOXCli variable (to enable TypeScript support):</p>
        <p><img class='gui' src="../img/tutorials/import-bitbox-interface.png" alt="import interface" /></p>
        <p>Now we can access the BITBOX namespaces, methods, and properties through our IDE as illustrated in the following screen capture:</p>
        <p><img class='gui' src="../img/tutorials/bitbox-namespaces.png" alt="bitbox namespaces" /></p>
        <p>We can also see the expected inputs and outputs for each available method, as well as a strongly typed return type (i.e., <code>Promise&lt;AddressDetailsResult&gt;</code>).  This <code>AddressDetailsResult</code> return type can imported into the project with it&rsquo;s relevant properties and types readily available during development.</p>
        <p><img class='gui' src="../img/tutorials/address-details-return.png" alt="address details return type" /></p>
        <p>Since the details method can also return an array of address details, we cast with <code>&lt;AddressDetailsResult&gt;</code> so the IDE and compiler knows we are expecting a single <code>AddressDetailsResult</code> object. We can see all of the properties associated with this object when we go to use our new <code>details</code> variable.</p>
        <p><img class='gui' src="../img/tutorials/addrStr.png" alt="address details string" /></p>
        <p>Finally we compile the index.ts file using <code>tsc index.ts --lib ‘es2015’</code> which generates <code>index.js</code> file within the same directory, then run the newly created <code>index.js</code> file to verify the code functions.</p>
        <p><img class='gui' src="../img/tutorials/ts-done.png" alt="typescript project complete" /></p>
        <h3 class="yellow">Summary</h3>
        <p>TypeScript is a powerful superset of Javascript which adds optional typing and improves the developer experience. With BITBOX&rsquo;s typings you can hit the ground running w/ no further setup.</p>
        <p>This post was written by <a href='https://twitter.com/James_Cramer'>James Cramer</a>.</p>
      </div>
    </div>
  </div>
</section>
