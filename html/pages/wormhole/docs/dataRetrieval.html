---
layout: default
title: Bitcoin.com Developer Platform | DataRetrieval Documentation
---

{{> double-nested-navigation}}

{{> wormhole-docs-submenu}}

<section class="bounties">
  <div class="container">
    <div class="section-title text-center pb-4">
      <h1 class="gray bold">Wormhole Documentation</h1>
    </div>
    <div class="row">

      <div class="col-12 col-md-3 mb-4 text-center">

        {{> wormhole-docs-menu}}

      </div>

      <div class="col-12 col-md-9 language-javascript">
        <h2 id='configuration' class="contentSubHead isCenter"><i class="fas fa-database"></i> DataRetrieval</h2>
        <h3 id='balancesForAddress'><code>balancesForAddress</code></h3>
        <p>
          Returns a list of all token balances for a given address.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            address <code>String</code> required
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          array <code>Array</code> of JSON Objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let balances = await Wormhole.DataRetrieval.balancesForAddress("bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg");
  console.log(balances);
})()

// [ { propertyid: 1,
//  balance: '100.00106300',
//  reserved: '0.00000000' } ]
        </code></pre>

        <h3 id='balancesForId'><code>balancesForId</code></h3>
        <p>
          Returns a list of token balances for a given currency or property identifier.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            propertyId <code>Number</code> required: The property identifier
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          array <code>Array</code> of JSON Objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let balances = await Wormhole.DataRetrieval.balancesForId(108);
  console.log(balances);
})()

// [ { address: 'bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg',
//     balance: '1496.0',
//     reserved: '0.0' },
//   { address: 'bchtest:qr4g79cjapp02s3zs59gtu3dxu7sgwvp8gmnh9rw97',
//     balance: '3.0',
//     reserved: '0.0' },
//   { address: 'bchtest:qztr275nr423fd79ap4ewlewktawz6t7xux7gdlm0t',
//     balance: '1.0',
//     reserved: '0.0' } ]
        </code></pre>

        <h3 id='balance'><code>balance</code></h3>
        <p>
          Returns the token balance for a given address and property.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            address <code>String</code> required: The address
          </li>
          <li>
            propertyId <code>Number</code> required: The property identifier
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let balance = await Wormhole.DataRetrieval.balance("bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg", 1);
  console.log(balance);
})()

// { balance: '100.00106300', reserved: '0.00000000' }
        </code></pre>

        <h3 id='balancesHash'><code>balancesHash</code></h3>
        <p>
          Returns a hash of the balances for the property.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            propertyId <code>Number</code> required: The property to hash balances for
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let balancesHash = await Wormhole.DataRetrieval.balancesHash(31);
  console.log(balancesHash);
})()

// { block: 1250914,
// blockhash: '000000000000001ad8258ac965843773d56a12979727245a910fb82f306b34e6',
// propertyid: 31,
// balanceshash: '55b852781b9995a44c939b64e441ae2724b96f99c8f4fb9a141cfc9842c4b0e3' }
        </code></pre>

        <h3 id='crowdSale'><code>crowdSale</code></h3>
        <p>
          Returns information about a crowdsale.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            propertyId <code>Number</code> required: The identifier of the crowdsale
          </li>
          <li>
            verbose <code>Boolean</code> optional: list crowdsale participants (default: false)
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let crowdSale = await Wormhole.DataRetrieval.crowdSale(31, true);
  console.log(crowdSale);
})()

// { propertyid: 31,
// name: 'qshuaifinalcrowsale',
// active: false,
// issuer: 'bchtest:qzk8qa7jp0w9cp7lxkghc6m0aqw3s9c7yg3s5v5m8n',
// propertyiddesired: 1,
// precision: '2',
// tokensperunit: '10.00000000',
// earlybonus: 10,
// starttime: 1533020017,
// deadline: 1533020340,
// amountraised: '0.00000000',
// tokensissued: '12345.12',
// addedissuertokens: '0.00',
// closedearly: false,
// maxtokens: false }
        </code></pre>

        <h3 id='currentConsensusHash'><code>currentConsensusHash</code></h3>
        <p>
          Returns the consensus hash for all balances for the current block.
        </p>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let currentConsensusHash = await Wormhole.DataRetrieval.currentConsensusHash();
  console.log(currentConsensusHash);
})()

// { block: 1250268,
// blockhash: '00000000000002d60ea1e020b5da0732f7fab9330fe25137fc5b1eb0fb7269cf',
// consensushash: 'b6af1e33348a01dbf32b554ab71b65f8b5ade6ea0d8fd5123c1b27da57a22fe5' }
        </code></pre>

        <h3 id='feeShare'><code>feeShare</code></h3>
        <p>
          Returns the percentage share of fees distribution applied to the wallet (default) or address (if supplied).
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            address <code>String</code> optional: retrieve the fee share for the supplied address
          </li>
          <li>
            ecosystem <code>Number</code> optional: the ecosystem to check the fee share (1 for main ecosystem, 2 for test ecosystem)
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          array <code>Array</code> of JSON Objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let feeShare = await Wormhole.DataRetrieval.feeShare("bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg", 1);
  console.log(feeShare);
})()

// [ { address: 'bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg',
// feeshare: '0.6912%' } ]
        </code></pre>

        <h3 id='grants'><code>grants</code></h3>
        <p>
          Returns information about granted and revoked units of managed tokens.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            propertyId <code>Number</code> required: The identifier of the managed tokens to lookup
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let grants = await Wormhole.DataRetrieval.grants(3);
  console.log(grants);
})()

// { propertyid: 3,
// name: 'test_token1',
// issuer: 'bchtest:qz04wg2jj75x34tge2v8w0l6r0repfcvcygv3t7sg5',
// creationtxid: '1c3f95acbd6eb38e2a7c26b12dc9138b4523c355a20944874bdc3c82f4c5e4e1',
// totaltokens: '90',
// issuances:
//  [ { txid: 'a1f2d0126a04296aad6f492a0ef8c1c1afb781efc6c5f37de105790a7debcf87',
//      revoke: '10' },
//    { txid: '6afffd7d14060b6e79c504c5f17596616eb99356b71d301b5b37df1df065b9a0',
//      grant: '100' } ] }
        </code></pre>

        <h3 id='info'><code>info</code></h3>
        <p>
          Returns various state information of the client and protocol.
        </p>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let info = await Wormhole.DataRetrieval.info();
  console.log(info);
})()

// { wormholeversion_int: 4000,
// wormholeversion: '0.0.4',
// bitcoincoreversion: '0.17.2',
// block: 1250914,
// blocktime: 1533771773,
// blocktransactions: 0,
// totaltrades: 0,
// totaltransactions: 784,
// alerts: [] }
        </code></pre>

        <h3 id='payload'><code>payload</code></h3>
        <p>
          Get the payload for an Omni transaction.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            txid <code>String</code> required: The hash of the transaction to retrieve payload
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let payload = await Wormhole.DataRetrieval.payload("000000000000000000000000000000000000000000000000000000000000000");
  console.log(payload);
})()
        </code></pre>

        <h3 id='property'><code>property</code></h3>
        <p>
          Returns details for about the tokens or smart property to lookup.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            propertyId <code>Number</code> required: The identifier of the tokens or property
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let property = await Wormhole.DataRetrieval.property(3);
  console.log(property);
})()

// { propertyid: 3,
// name: 'test_token1',
// category: 'test managed token 0',
// subcategory: 'test',
// data: 'my data',
// url: 'www.testmanagedtoken.com',
// precision: 0,
// issuer: 'bchtest:qz04wg2jj75x34tge2v8w0l6r0repfcvcygv3t7sg5',
// creationtxid: '1c3f95acbd6eb38e2a7c26b12dc9138b4523c355a20944874bdc3c82f4c5e4e1',
// fixedissuance: false,
// managedissuance: true,
// freezingenabled: false,
// totaltokens: '90' }
        </code></pre>

        <h3 id='seedBlocks'><code>seedBlocks</code></h3>
        <p>
          Returns a list of blocks containing Omni transactions for use in seed block filtering.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            startBlock <code>Number</code> required: The first block to look for Omni transactions (inclusive)
          </li>
          <li>
            endBlock <code>Number</code> required: The last block to look for Omni transactions (inclusive)
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let seedBlocks = await Wormhole.DataRetrieval.seedBlocks(290000, 300000);
  console.log(seedBlocks);
})()
// []
        </code></pre>

        <h3 id='STO'><code>STO</code></h3>
        <p>
          Get information and recipients of a send-to-owners transaction.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            txid <code>String</code> required: The hash of the transaction to lookup
          </li>
          <li>
            recipientFilter <code>String</code> required: A filter for recipients (wallet by default, '*' for all)
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let STO = await Wormhole.DataRetrieval.STO("000000000000000000000000000000000000000000000000000000000000000", "*");
  console.log(STO);
})()
// []
        </code></pre>

        <h3 id='transaction'><code>transaction</code></h3>
        <p>
          Get detailed information about an Omni transaction.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            txid <code>String</code> required: The hash of the transaction to lookup
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          obj <code>Object</code>
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let transaction = await Wormhole.DataRetrieval.transaction("000000000000000000000000000000000000000000000000000000000000000");
  console.log(transaction);
})()
        </code></pre>

        <h3 id='blockTransactions'><code>blockTransactions</code></h3>
        <p>
          Lists all Omni transactions in a block.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            index <code>Number</code> required: The block height or block index
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          arr <code>Array</code> of strings
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let blockTransactions = await Wormhole.DataRetrieval.blockTransactions("0000000000009ae2ee5d085a0f3d20c8ace0c742af60269f44fc3e3af354b5cb");
  console.log(blockTransactions);
})()
// []
        </code></pre>

        <h3 id='pendingTransactions'><code>pendingTransactions</code></h3>
        <p>
          Returns a list of unconfirmed Omni transactions, pending in the memory pool.
        </p>
        <h4>Arguments</h4>
        <ol>
          <li>
            address <code>Number</code> optional: Address filter (default: '' for no filter)
          </li>
        </ol>
        <h4>Result</h4>
        <p>
          arr <code>Array</code> of JSON objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let pendingTransactions = await Wormhole.DataRetrieval.pendingTransactions();
  console.log(pendingTransactions);
})()
// []
        </code></pre>

        <h3 id='properties'><code>properties</code></h3>
        <p>
          Lists all tokens or smart properties.
        </p>
        <h4>Result</h4>
        <p>
          arr <code>Array</code> of JSON objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let properties = await Wormhole.DataRetrieval.properties();
  console.log(properties);
})()

// [ { propertyid: 1,
//   name: 'WHC',
//   category: 'N/A',
//   subcategory: 'N/A',
//   data: 'WHC serve as the binding between Bitcoin cash, smart properties and contracts created on the Wormhole.',
//   url: 'http://www.wormhole.cash',
//   precision: 0 },
// { propertyid: 3,
//   name: 'test_token1',
//   category: 'test managed token 0',
//   subcategory: 'test',
//   data: 'my data',
//   url: 'www.testmanagedtoken.com',
//   precision: 0 }]
        </code></pre>

        <h3 id='transactions'><code>transactions</code></h3>
        <p>
          List wallet transactions, optionally filtered by an address and block boundaries.
        </p>
        <h4>Arguments</h4>
        <h4>Result</h4>
        <p>
          arr <code>Array</code> of JSON objects
        </p>
        <h4>Examples</h4>

        <pre><code>
(async () => {
  let transactions = await Wormhole.DataRetrieval.transactions();
  console.log(transactions);
})()

// [ { txid: '66e83012877ad9a69a1a61eaadcef2086c74de573fec7c0b54173ff138ab1262',
//  fee: '2726',
//  sendingaddress: 'bchtest:qq2j9gp97gm9a6lwvhxc4zu28qvqm0x4j5e72v7ejg',
//  referenceaddress: 'bchtest:qqqqqqqqqqqqqqqqqqqqqqqqqqqqqdmwgvnjkt8whc',
//  ismine: true,
//  version: 0,
//  type_int: 68,
//  type: 'Burn BCH Get WHC',
//  propertyid: 1,
//  precision: '0',
//  mature: true,
//  amount: '100.00106300',
//  valid: true,
//  blockhash: '0000000000009ae2ee5d085a0f3d20c8ace0c742af60269f44fc3e3af354b5cb',
//  blocktime: 1533529072,
//  positioninblock: 5,
//  block: 1250422,
//  confirmations: 498 } ]
        </code></pre>
      </div>
    </div>
  </div>
</section>
